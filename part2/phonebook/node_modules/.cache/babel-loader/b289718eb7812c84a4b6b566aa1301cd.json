{"ast":null,"code":"import _objectSpread from\"C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import backend from'./backend.js';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Error=function Error(_ref){var message=_ref.message;if(message===null){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:message});};var Notification=function Notification(_ref2){var message=_ref2.message;if(message===null){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"notification\",children:message});};var DisplayPerson=function DisplayPerson(_ref3){var person=_ref3.person,onDeletePerson=_ref3.onDeletePerson;return/*#__PURE__*/_jsxs(\"div\",{children:[person.name,\"  \",person.number,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return onDeletePerson(person);},children:\"delete\"})]});};var DisplayPhoneBook=function DisplayPhoneBook(_ref4){var shownPeople=_ref4.shownPeople,onDeletePerson=_ref4.onDeletePerson;return/*#__PURE__*/_jsx(\"div\",{children:shownPeople.map(function(person){return/*#__PURE__*/_jsx(DisplayPerson,{person:person,onDeletePerson:onDeletePerson},person.id);})});};var Filter=function Filter(_ref5){var filterName=_ref5.filterName,onFilterNameChange=_ref5.onFilterNameChange;return/*#__PURE__*/_jsxs(\"div\",{children:[\"filter names \",/*#__PURE__*/_jsx(\"input\",{value:filterName,onChange:onFilterNameChange})]});};var PhonebookForm=function PhonebookForm(_ref6){var newName=_ref6.newName,onNameChange=_ref6.onNameChange,newNumber=_ref6.newNumber,onNumberChange=_ref6.onNumberChange,onAddName=_ref6.onAddName;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onAddName,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"name: \",/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:onNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"number: \",/*#__PURE__*/_jsx(\"input\",{type:\"tel\",value:newNumber,onChange:onNumberChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"add\"})})]})});};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),filterName=_useState8[0],setNewFilterName=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),notification=_useState10[0],setNotification=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),errorMessage=_useState12[0],setNewErrorMessage=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),notificationTimeout=_useState14[0],setNotificationTimeout=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),errorTimeout=_useState16[0],setErrorTimeout=_useState16[1];useEffect(function(){backend.getAll().then(function(persons){setPersons(persons);});},[]);function addError(message){setNewErrorMessage(message);if(errorTimeout!==null){clearTimeout(errorTimeout);setErrorTimeout(null);}setErrorTimeout(setTimeout(function(){setNewErrorMessage(null);setErrorTimeout(null);},3000));}function addNotification(message){setNotification(message);if(notificationTimeout!==null){clearTimeout(notificationTimeout);setNotificationTimeout(null);}setNotificationTimeout(setTimeout(function(){setNotification(null);setNotificationTimeout(null);},3000));}function onAddName(event){event.preventDefault();var person={name:newName,number:newNumber};var foundPerson=persons.find(function(p){return p.name===person.name;});if(foundPerson!==undefined){var newPerson=_objectSpread(_objectSpread({},foundPerson),{},{number:newNumber});backend.update(foundPerson.id,newPerson).then(function(newPerson){setPersons(persons.map(function(p){return p.id===newPerson.id?newPerson:p;}));addNotification(\"Successfully updated \".concat(newPerson.name,\"!\"));setNewName('');setNewNumber('');}).catch(function(error){addError(\"Error while updating info of \".concat(person.name,\"! \").concat(error.response.data.error));});}else{backend.create(person).then(function(newPerson){setPersons(persons.concat(newPerson));addNotification(\"Successfully added \".concat(newPerson.name,\"!\"));setNewName('');setNewNumber('');}).catch(function(error){addError(\"Error while adding \".concat(person.name,\"! \").concat(error.response.data.error));});}}function onDeletePerson(person){if(window.confirm(\"Delete \".concat(person.name,\"?\"))){backend.del(person.id).then(function(result){setPersons(persons.filter(function(p){return p.id!==person.id;}));addNotification(\"Successfully deleted \".concat(person.name,\"!\"));}).catch(function(error){setPersons(persons.filter(function(p){return p.id!==person.id;}));addError(\"Cannot delete \".concat(person.name,\", it's probably already deleted! \").concat(error.response.data.error));});}}function onFilterNameChange(event){setNewFilterName(event.target.value);}function onNameChange(event){setNewName(event.target.value);}function onNumberChange(event){setNewNumber(event.target.value);}var shownPeople=filterName===''?persons:persons.filter(function(person){return person.name.toLowerCase().includes(filterName.toLowerCase());});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Error,{message:errorMessage}),/*#__PURE__*/_jsx(Notification,{message:notification}),/*#__PURE__*/_jsx(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(PhonebookForm,{newName:newName,onNameChange:onNameChange,newNumber:newNumber,onNumberChange:onNumberChange,onAddName:onAddName}),/*#__PURE__*/_jsx(Filter,{filterName:filterName,onFilterNameChange:onFilterNameChange}),/*#__PURE__*/_jsx(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/_jsx(DisplayPhoneBook,{shownPeople:shownPeople,onDeletePerson:onDeletePerson})]});};export default App;","map":{"version":3,"sources":["C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/src/App.js"],"names":["React","useEffect","useState","backend","Error","message","Notification","DisplayPerson","person","onDeletePerson","name","number","DisplayPhoneBook","shownPeople","map","id","Filter","filterName","onFilterNameChange","PhonebookForm","newName","onNameChange","newNumber","onNumberChange","onAddName","App","persons","setPersons","setNewName","setNewNumber","setNewFilterName","notification","setNotification","errorMessage","setNewErrorMessage","notificationTimeout","setNotificationTimeout","errorTimeout","setErrorTimeout","getAll","then","addError","clearTimeout","setTimeout","addNotification","event","preventDefault","foundPerson","find","p","undefined","newPerson","update","catch","error","response","data","create","concat","window","confirm","del","result","filter","target","value","toLowerCase","includes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport backend from './backend.js';\nimport './App.css';\n\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n  \n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n  \n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nconst DisplayPerson = ({ person, onDeletePerson }) =>\n{\n    return (\n        <div>\n            {person.name}  {person.number} <button onClick={() => onDeletePerson(person)}>delete</button>\n        </div>\n    )\n}\n\nconst DisplayPhoneBook = ({ shownPeople, onDeletePerson }) => \n{\n    return (\n        <div>\n            {shownPeople.map(person => <DisplayPerson person={person} key={person.id} onDeletePerson={onDeletePerson} />)}\n        </div>\n    )\n}\n\nconst Filter = ({ filterName, onFilterNameChange }) => \n{\n    return (\n        <div>\n            filter names <input value={filterName} onChange={onFilterNameChange} />\n        </div>\n    )\n}\n\nconst PhonebookForm = ({ newName, onNameChange, newNumber, onNumberChange, onAddName }) => \n{\n    return (\n        <div>\n            <form onSubmit={onAddName}>\n                <div>\n                    name: <input value={newName} onChange={onNameChange} />\n                </div>\n                <div>\n                    number: <input type=\"tel\" value={newNumber} onChange={onNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterName, setNewFilterName] = useState('');\n    const [notification, setNotification] = useState(null);\n    const [errorMessage, setNewErrorMessage] = useState(null);\n    const [notificationTimeout, setNotificationTimeout] = useState(null);\n    const [errorTimeout, setErrorTimeout] = useState(null);\n\n    useEffect(() => {\n        backend.getAll().then(persons => {\n            setPersons(persons);\n        });\n    }, []);\n\n    function addError(message)\n    {\n        setNewErrorMessage(message);\n\n        if (errorTimeout !== null) \n        {\n            clearTimeout(errorTimeout);\n            setErrorTimeout(null);\n        }\n\n        setErrorTimeout(setTimeout(() => {\n            setNewErrorMessage(null);\n            setErrorTimeout(null);\n        }, 3000));\n    }\n\n    function addNotification(message)\n    {\n        setNotification(message);\n\n        if (notificationTimeout !== null) \n        {\n            clearTimeout(notificationTimeout);\n            setNotificationTimeout(null);\n        }\n\n        setNotificationTimeout(setTimeout(() => {\n            setNotification(null);\n            setNotificationTimeout(null);\n        }, 3000));\n    }\n\n    function onAddName(event)\n    {\n        event.preventDefault();\n\n        const person = {\n            name: newName,\n            number: newNumber\n        };\n        const foundPerson = persons.find(p => p.name === person.name);\n\n        if (foundPerson !== undefined)\n        {\n            const newPerson = {...foundPerson, number: newNumber};\n            backend.update(foundPerson.id, newPerson).then(newPerson => {\n                setPersons(persons.map(p => p.id === newPerson.id ? newPerson : p));\n                addNotification(`Successfully updated ${newPerson.name}!`);\n\n                setNewName('');\n                setNewNumber('');\n            })\n            .catch(error => {\n                addError(`Error while updating info of ${person.name}! ${error.response.data.error}`);\n            });\n        }\n        else\n        {\n            backend.create(person).then(newPerson => {\n                setPersons(persons.concat(newPerson));\n                addNotification(`Successfully added ${newPerson.name}!`);\n\n                setNewName('');\n                setNewNumber('');\n            })\n            .catch(error => {\n                addError(`Error while adding ${person.name}! ${error.response.data.error}`);\n            });\n        }\n    }\n\n    function onDeletePerson(person)\n    {\n        if (window.confirm(`Delete ${person.name}?`))\n        {\n            backend.del(person.id).then(result => {\n                setPersons(persons.filter(p => p.id !== person.id));\n                addNotification(`Successfully deleted ${person.name}!`);\n            })\n            .catch(error => {\n                setPersons(persons.filter(p => p.id !== person.id));\n                addError(`Cannot delete ${person.name}, it's probably already deleted! ${error.response.data.error}`);\n            });\n        }\n    }\n    \n    function onFilterNameChange(event)\n    {\n        setNewFilterName(event.target.value);\n    }\n    \n    function onNameChange(event)\n    {\n        setNewName(event.target.value);\n    }\n\n    function onNumberChange(event)\n    {\n        setNewNumber(event.target.value);\n    }\n\n    const shownPeople = \n        filterName === '' ? \n        persons : \n        persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()));\n\n    return (\n        <div>\n            <Error message={errorMessage} />\n            <Notification message={notification} />\n            <h2>Phonebook</h2>\n            <PhonebookForm newName={newName} onNameChange={onNameChange} \n                           newNumber={newNumber} onNumberChange={onNumberChange} \n                           onAddName={onAddName} />\n\n            <Filter filterName={filterName} onFilterNameChange={onFilterNameChange} />\n\n            <h2>Numbers</h2>\n\n            <DisplayPhoneBook shownPeople={shownPeople} onDeletePerson={onDeletePerson} />\n        </div>\n    )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}