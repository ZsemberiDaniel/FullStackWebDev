{"code":"(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,n,t){},42:function(e,n,t){\"use strict\";t.r(n);var c=t(16),a=t.n(c),r=t(7),o=t(3),u=t(2),i=t(4),l=t.n(i),s=\"/api/persons\",d=function(){return l.a.get(s).then((function(e){return e.data}))},j=function(e){return l.a.post(s,e).then((function(e){return e.data}))},b=function(e,n){return l.a.put(\"\".concat(s,\"/\").concat(e),n).then((function(e){return e.data}))},f=function(e){return l.a.delete(\"\".concat(s,\"/\").concat(e)).then((function(e){return e.data}))},m=(t(40),t(0)),h=function(e){var n=e.message;return null===n?null:Object(m.jsx)(\"div\",{className:\"error\",children:n})},O=function(e){var n=e.message;return null===n?null:Object(m.jsx)(\"div\",{className:\"notification\",children:n})},p=function(e){var n=e.person,t=e.onDeletePerson;return Object(m.jsxs)(\"div\",{children:[n.name,\"  \",n.number,\" \",Object(m.jsx)(\"button\",{onClick:function(){return t(n)},children:\"delete\"})]})},v=function(e){var n=e.shownPeople,t=e.onDeletePerson;return Object(m.jsx)(\"div\",{children:n.map((function(e){return Object(m.jsx)(p,{person:e,onDeletePerson:t},e.id)}))})},x=function(e){var n=e.filterName,t=e.onFilterNameChange;return Object(m.jsxs)(\"div\",{children:[\"filter names \",Object(m.jsx)(\"input\",{value:n,onChange:t})]})},g=function(e){var n=e.newName,t=e.onNameChange,c=e.newNumber,a=e.onNumberChange,r=e.onAddName;return Object(m.jsx)(\"div\",{children:Object(m.jsxs)(\"form\",{onSubmit:r,children:[Object(m.jsxs)(\"div\",{children:[\"name: \",Object(m.jsx)(\"input\",{value:n,onChange:t})]}),Object(m.jsxs)(\"div\",{children:[\"number: \",Object(m.jsx)(\"input\",{type:\"tel\",value:c,onChange:a})]}),Object(m.jsx)(\"div\",{children:Object(m.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]})})},N=function(){var e=Object(u.useState)([]),n=Object(o.a)(e,2),t=n[0],c=n[1],a=Object(u.useState)(\"\"),i=Object(o.a)(a,2),l=i[0],s=i[1],p=Object(u.useState)(\"\"),N=Object(o.a)(p,2),w=N[0],C=N[1],S=Object(u.useState)(\"\"),y=Object(o.a)(S,2),P=y[0],k=y[1],D=Object(u.useState)(null),E=Object(o.a)(D,2),T=E[0],A=E[1],F=Object(u.useState)(null),J=Object(o.a)(F,2),L=J[0],B=J[1],I=Object(u.useState)(null),q=Object(o.a)(I,2),z=q[0],G=q[1],H=Object(u.useState)(null),K=Object(o.a)(H,2),M=K[0],Q=K[1];function R(e){B(e),null!==M&&(clearTimeout(M),Q(null)),Q(setTimeout((function(){B(null),Q(null)}),3e3))}function U(e){A(e),null!==z&&(clearTimeout(z),G(null)),G(setTimeout((function(){A(null),G(null)}),3e3))}Object(u.useEffect)((function(){d().then((function(e){c(e)}))}),[]);var V=\"\"===P?t:t.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())}));return Object(m.jsxs)(\"div\",{children:[Object(m.jsx)(h,{message:L}),Object(m.jsx)(O,{message:T}),Object(m.jsx)(\"h2\",{children:\"Phonebook\"}),Object(m.jsx)(g,{newName:l,onNameChange:function(e){s(e.target.value)},newNumber:w,onNumberChange:function(e){C(e.target.value)},onAddName:function(e){e.preventDefault();var n={name:l,number:w},a=t.find((function(e){return e.name===n.name}));if(void 0!==a){var o=Object(r.a)(Object(r.a)({},a),{},{number:w});b(a.id,o).then((function(e){c(t.map((function(n){return n.id===e.id?e:n}))),U(\"Successfully updated \".concat(e.name,\"!\")),s(\"\"),C(\"\")})).catch((function(e){R(\"Error while updating info of \".concat(n.name,\"! \").concat(e.response.data.error))}))}else j(n).then((function(e){c(t.concat(e)),U(\"Successfully added \".concat(e.name,\"!\")),s(\"\"),C(\"\")})).catch((function(e){R(\"Error while adding \".concat(n.name,\"! \").concat(e.response.data.error))}))}}),Object(m.jsx)(x,{filterName:P,onFilterNameChange:function(e){k(e.target.value)}}),Object(m.jsx)(\"h2\",{children:\"Numbers\"}),Object(m.jsx)(v,{shownPeople:V,onDeletePerson:function(e){window.confirm(\"Delete \".concat(e.name,\"?\"))&&f(e.id).then((function(n){c(t.filter((function(n){return n.id!==e.id}))),U(\"Successfully deleted \".concat(e.name,\"!\"))})).catch((function(n){c(t.filter((function(n){return n.id!==e.id}))),R(\"Cannot delete \".concat(e.name,\", it's probably already deleted! \").concat(n.response.data.error))}))}})]})};a.a.render(Object(m.jsx)(N,{}),document.getElementById(\"root\"))}},[[42,1,2]]]);","name":"static/js/main.3d05cec4.chunk.js","map":{"version":3,"sources":["static/js/main.3d05cec4.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react_dom","react_dom_default","n","objectSpread2","slicedToArray","react","axios","axios_default","backendUrl","backend","a","get","then","response","data","newPerson","post","id","updatedPerson","put","concat","delete","jsx_runtime","App_Error","_ref","message","Object","className","children","App_Notification","_ref2","App_DisplayPerson","_ref3","person","onDeletePerson","name","number","onClick","App_DisplayPhoneBook","_ref4","shownPeople","map","App_Filter","_ref5","filterName","onFilterNameChange","value","onChange","App_PhonebookForm","_ref6","newName","onNameChange","newNumber","onNumberChange","onAddName","onSubmit","type","src_App_0","_useState","_useState2","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilterName","_useState9","_useState10","notification","setNotification","_useState11","_useState12","errorMessage","setNewErrorMessage","_useState13","_useState14","notificationTimeout","setNotificationTimeout","_useState15","_useState16","errorTimeout","setErrorTimeout","addError","clearTimeout","setTimeout","addNotification","filter","toLowerCase","includes","event","target","preventDefault","foundPerson","find","p","undefined","catch","error","window","confirm","result","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpphonebook\"] = this[\"webpackJsonpphonebook\"] || []).push([[0],{\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/backend.js\nvar backendUrl='/api/persons';var backend_getAll=function getAll(){return axios_default.a.get(backendUrl).then(function(response){return response.data;});};var backend_create=function create(newPerson){return axios_default.a.post(backendUrl,newPerson).then(function(response){return response.data;});};var backend_update=function update(id,updatedPerson){return axios_default.a.put(\"\".concat(backendUrl,\"/\").concat(id),updatedPerson).then(function(response){return response.data;});};var backend_del=function del(id){return axios_default.a.delete(\"\".concat(backendUrl,\"/\").concat(id)).then(function(response){return response.data;});};/* harmony default export */ var backend = ({getAll:backend_getAll,create:backend_create,update:backend_update,del:backend_del});\n// EXTERNAL MODULE: ./src/App.css\nvar src_App = __webpack_require__(40);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_Error=function Error(_ref){var message=_ref.message;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error\",children:message});};var App_Notification=function Notification(_ref2){var message=_ref2.message;if(message===null){return null;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"notification\",children:message});};var App_DisplayPerson=function DisplayPerson(_ref3){var person=_ref3.person,onDeletePerson=_ref3.onDeletePerson;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[person.name,\"  \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return onDeletePerson(person);},children:\"delete\"})]});};var App_DisplayPhoneBook=function DisplayPhoneBook(_ref4){var shownPeople=_ref4.shownPeople,onDeletePerson=_ref4.onDeletePerson;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:shownPeople.map(function(person){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_DisplayPerson,{person:person,onDeletePerson:onDeletePerson},person.id);})});};var App_Filter=function Filter(_ref5){var filterName=_ref5.filterName,onFilterNameChange=_ref5.onFilterNameChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter names \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:filterName,onChange:onFilterNameChange})]});};var App_PhonebookForm=function PhonebookForm(_ref6){var newName=_ref6.newName,onNameChange=_ref6.onNameChange,newNumber=_ref6.newNumber,onNumberChange=_ref6.onNumberChange,onAddName=_ref6.onAddName;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:onAddName,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:newName,onChange:onNameChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"tel\",value:newNumber,onChange:onNumberChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]})});};var App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),filterName=_useState8[0],setNewFilterName=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),notification=_useState10[0],setNotification=_useState10[1];var _useState11=Object(react[\"useState\"])(null),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),errorMessage=_useState12[0],setNewErrorMessage=_useState12[1];var _useState13=Object(react[\"useState\"])(null),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),notificationTimeout=_useState14[0],setNotificationTimeout=_useState14[1];var _useState15=Object(react[\"useState\"])(null),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),errorTimeout=_useState16[0],setErrorTimeout=_useState16[1];Object(react[\"useEffect\"])(function(){backend.getAll().then(function(persons){setPersons(persons);});},[]);function addError(message){setNewErrorMessage(message);if(errorTimeout!==null){clearTimeout(errorTimeout);setErrorTimeout(null);}setErrorTimeout(setTimeout(function(){setNewErrorMessage(null);setErrorTimeout(null);},3000));}function addNotification(message){setNotification(message);if(notificationTimeout!==null){clearTimeout(notificationTimeout);setNotificationTimeout(null);}setNotificationTimeout(setTimeout(function(){setNotification(null);setNotificationTimeout(null);},3000));}function onAddName(event){event.preventDefault();var person={name:newName,number:newNumber};var foundPerson=persons.find(function(p){return p.name===person.name;});if(foundPerson!==undefined){var newPerson=Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},foundPerson),{},{number:newNumber});backend.update(foundPerson.id,newPerson).then(function(newPerson){setPersons(persons.map(function(p){return p.id===newPerson.id?newPerson:p;}));addNotification(\"Successfully updated \".concat(newPerson.name,\"!\"));setNewName('');setNewNumber('');}).catch(function(error){addError(\"Error while updating info of \".concat(person.name,\"! \").concat(error.response.data.error));});}else{backend.create(person).then(function(newPerson){setPersons(persons.concat(newPerson));addNotification(\"Successfully added \".concat(newPerson.name,\"!\"));setNewName('');setNewNumber('');}).catch(function(error){addError(\"Error while adding \".concat(person.name,\"! \").concat(error.response.data.error));});}}function onDeletePerson(person){if(window.confirm(\"Delete \".concat(person.name,\"?\"))){backend.del(person.id).then(function(result){setPersons(persons.filter(function(p){return p.id!==person.id;}));addNotification(\"Successfully deleted \".concat(person.name,\"!\"));}).catch(function(error){setPersons(persons.filter(function(p){return p.id!==person.id;}));addError(\"Cannot delete \".concat(person.name,\", it's probably already deleted! \").concat(error.response.data.error));});}}function onFilterNameChange(event){setNewFilterName(event.target.value);}function onNameChange(event){setNewName(event.target.value);}function onNumberChange(event){setNewNumber(event.target.value);}var shownPeople=filterName===''?persons:persons.filter(function(person){return person.name.toLowerCase().includes(filterName.toLowerCase());});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Error,{message:errorMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:notification}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_PhonebookForm,{newName:newName,onNameChange:onNameChange,newNumber:newNumber,onNumberChange:onNumberChange,onAddName:onAddName}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Filter,{filterName:filterName,onFilterNameChange:onFilterNameChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_DisplayPhoneBook,{shownPeople:shownPeople,onDeletePerson:onDeletePerson})]});};/* harmony default export */ var src_App_0 = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App_0,{}),document.getElementById('root'));\n\n/***/ })\n\n},[[42,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Coding\\FullStackWebDev\\FullStackWebDev\\part2\\phonebook\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Coding\\FullStackWebDev\\FullStackWebDev\\part2\\phonebook\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Coding\\FullStackWebDev\\FullStackWebDev\\part2\\phonebook\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Coding\\FullStackWebDev\\FullStackWebDev\\part2\\phonebook\\src\\App.css","C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/src/backend.js","C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/src/App.js","C:/Coding/FullStackWebDev/FullStackWebDev/part2/phonebook/src/index.js"],"names":["backendUrl","getAll","axios","get","then","response","data","create","newPerson","post","update","id","updatedPerson","put","del","delete","Error","message","Notification","DisplayPerson","person","onDeletePerson","name","number","DisplayPhoneBook","shownPeople","map","Filter","filterName","onFilterNameChange","PhonebookForm","newName","onNameChange","newNumber","onNumberChange","onAddName","App","useState","persons","setPersons","setNewName","setNewNumber","setNewFilterName","notification","setNotification","errorMessage","setNewErrorMessage","notificationTimeout","setNotificationTimeout","errorTimeout","setErrorTimeout","useEffect","backend","addError","clearTimeout","setTimeout","addNotification","event","preventDefault","foundPerson","find","p","undefined","catch","error","concat","window","confirm","result","filter","target","value","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from 'axios';\r\nconst backendUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(backendUrl).then(response => response.data);\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    return axios.post(backendUrl, newPerson).then(response => response.data);\r\n}\r\n\r\nconst update = (id, updatedPerson) => {\r\n    return axios.put(`${backendUrl}/${id}`, updatedPerson).then(response => response.data);\r\n}\r\n\r\nconst del = (id) => {\r\n    return axios.delete(`${backendUrl}/${id}`).then(response => response.data);\r\n}\r\n\r\nexport default { getAll, create, update, del }","import React, { useEffect, useState } from 'react'\nimport backend from './backend.js';\nimport './App.css';\n\nconst Error = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n  \n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n  \n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    )\n}\n\nconst DisplayPerson = ({ person, onDeletePerson }) =>\n{\n    return (\n        <div>\n            {person.name}  {person.number} <button onClick={() => onDeletePerson(person)}>delete</button>\n        </div>\n    )\n}\n\nconst DisplayPhoneBook = ({ shownPeople, onDeletePerson }) => \n{\n    return (\n        <div>\n            {shownPeople.map(person => <DisplayPerson person={person} key={person.id} onDeletePerson={onDeletePerson} />)}\n        </div>\n    )\n}\n\nconst Filter = ({ filterName, onFilterNameChange }) => \n{\n    return (\n        <div>\n            filter names <input value={filterName} onChange={onFilterNameChange} />\n        </div>\n    )\n}\n\nconst PhonebookForm = ({ newName, onNameChange, newNumber, onNumberChange, onAddName }) => \n{\n    return (\n        <div>\n            <form onSubmit={onAddName}>\n                <div>\n                    name: <input value={newName} onChange={onNameChange} />\n                </div>\n                <div>\n                    number: <input type=\"tel\" value={newNumber} onChange={onNumberChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filterName, setNewFilterName] = useState('');\n    const [notification, setNotification] = useState(null);\n    const [errorMessage, setNewErrorMessage] = useState(null);\n    const [notificationTimeout, setNotificationTimeout] = useState(null);\n    const [errorTimeout, setErrorTimeout] = useState(null);\n\n    useEffect(() => {\n        backend.getAll().then(persons => {\n            setPersons(persons);\n        });\n    }, []);\n\n    function addError(message)\n    {\n        setNewErrorMessage(message);\n\n        if (errorTimeout !== null) \n        {\n            clearTimeout(errorTimeout);\n            setErrorTimeout(null);\n        }\n\n        setErrorTimeout(setTimeout(() => {\n            setNewErrorMessage(null);\n            setErrorTimeout(null);\n        }, 3000));\n    }\n\n    function addNotification(message)\n    {\n        setNotification(message);\n\n        if (notificationTimeout !== null) \n        {\n            clearTimeout(notificationTimeout);\n            setNotificationTimeout(null);\n        }\n\n        setNotificationTimeout(setTimeout(() => {\n            setNotification(null);\n            setNotificationTimeout(null);\n        }, 3000));\n    }\n\n    function onAddName(event)\n    {\n        event.preventDefault();\n\n        const person = {\n            name: newName,\n            number: newNumber\n        };\n        const foundPerson = persons.find(p => p.name === person.name);\n\n        if (foundPerson !== undefined)\n        {\n            const newPerson = {...foundPerson, number: newNumber};\n            backend.update(foundPerson.id, newPerson).then(newPerson => {\n                setPersons(persons.map(p => p.id === newPerson.id ? newPerson : p));\n                addNotification(`Successfully updated ${newPerson.name}!`);\n\n                setNewName('');\n                setNewNumber('');\n            })\n            .catch(error => {\n                addError(`Error while updating info of ${person.name}! ${error.response.data.error}`);\n            });\n        }\n        else\n        {\n            backend.create(person).then(newPerson => {\n                setPersons(persons.concat(newPerson));\n                addNotification(`Successfully added ${newPerson.name}!`);\n\n                setNewName('');\n                setNewNumber('');\n            })\n            .catch(error => {\n                addError(`Error while adding ${person.name}! ${error.response.data.error}`);\n            });\n        }\n    }\n\n    function onDeletePerson(person)\n    {\n        if (window.confirm(`Delete ${person.name}?`))\n        {\n            backend.del(person.id).then(result => {\n                setPersons(persons.filter(p => p.id !== person.id));\n                addNotification(`Successfully deleted ${person.name}!`);\n            })\n            .catch(error => {\n                setPersons(persons.filter(p => p.id !== person.id));\n                addError(`Cannot delete ${person.name}, it's probably already deleted! ${error.response.data.error}`);\n            });\n        }\n    }\n    \n    function onFilterNameChange(event)\n    {\n        setNewFilterName(event.target.value);\n    }\n    \n    function onNameChange(event)\n    {\n        setNewName(event.target.value);\n    }\n\n    function onNumberChange(event)\n    {\n        setNewNumber(event.target.value);\n    }\n\n    const shownPeople = \n        filterName === '' ? \n        persons : \n        persons.filter(person => person.name.toLowerCase().includes(filterName.toLowerCase()));\n\n    return (\n        <div>\n            <Error message={errorMessage} />\n            <Notification message={notification} />\n            <h2>Phonebook</h2>\n            <PhonebookForm newName={newName} onNameChange={onNameChange} \n                           newNumber={newNumber} onNumberChange={onNumberChange} \n                           onAddName={onAddName} />\n\n            <Filter filterName={filterName} onFilterNameChange={onFilterNameChange} />\n\n            <h2>Numbers</h2>\n\n            <DisplayPhoneBook shownPeople={shownPeople} onDeletePerson={onDeletePerson} />\n        </div>\n    )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"]}}